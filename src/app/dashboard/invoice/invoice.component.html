<!--Invoice template starts-->
<div class="row">
    <div class="col-md-12">
        <h4>Invoice</h4>
    </div>
</div>
<section class="invoice-template" id="alldata">
    <div class="card">
        <div class="card-body p-3">
            <div id="invoice-template" class="card-block">
                <!-- Invoice Company Details -->
                <div id="invoice-company-details" class="row">
                    <div class="col-4 text-left">
                        <h2>INVOICE</h2>
                        <p>Drug Licence No: {{licenceno}}</p>
                    </div>
                    <div class="col-4 text-left">
                        <h4>{{dname}}</h4>
                        <p>{{address}}</p>
                    </div>
                    <div class="col-4 text-right">
                        <!--<p><span class="text-muted">Invoice Date :{{myDate | date:'dd/MM/yyyy'}}</span> </p>-->
                        <p><span>Invoice Date :<input type="date" id="invoicedate" value="{{myDate | date : 'yyyy-MM-dd'}}"></span></p>
                        <p><span class="text-muted">Invoice No :<input type="text" (change)="checkvalue()" id="invoiceno" value="0000{{billnos}}" placeholder="Invoice no" ></span> </p>
                        <!--<p><span class="text-muted">Due Date :</span> {{myDate | date:'dd/MM/yyyy'}}</p>-->
                    </div>
                </div>
                <!-- Invoice Company Details -->
                <!--User Detail-->
                <div class="row">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <div class="px-3">
                                    <div class="form-body">
                                        <h6 class="form-section">Search Product</h6>
                                        <div class="row">
                                            <div class="col-md-11">
                                                <div class="input-group">
                                                    <input type="text"  list="browsers" id="searchproduct" placeholder="Search product" autofocus (keyup)="getProduct()" (change)="getproductname()"   class="form-control" value="{{searchvalue}}" >
                                                    <datalist id="browsers" *ngIf="productdata !== ''">
                                                        <option *ngFor="let product of productdata" value="{{product.name}}">
                                                    </datalist>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <div class="px-3">
                                    <div class="form-body">
                                        <h6 class="form-section">Sale Type</h6>
                                        <div class="row">
                                            <div class="col-md-11">
                                                <div class="input-group">
                                                    <select id="salestype"  class="form-control">
                                                        <option value="1">Sale</option>
                                                        <option value="2">Return</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="px-3 ">
                                    <form [formGroup]="ContactForm"  novalidate>
                                        <div class="form-body">
                                            <h6 class="form-section">User Info</h6>
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label for="projectinput1">Name</label>
                                                        <input type="text" placeholder="Enter Name" class="form-control" formControlName="name" required name>
                                                        <span class="form-text text-muted danger"
                                                            *ngIf="ContactForm.get('name').errors && (ContactForm.get('name').touched || ContactForm.get('name').dirty)">
                                                            <span *ngIf="ContactForm.get('name').errors.required">Name is required</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label for="projectinput1">Mobile No</label>
                                                        <input type="text" placeholder="Enter Mobile" class="form-control" formControlName="mobile" >
                                                        <span class="form-text text-muted danger"
                                                            *ngIf="ContactForm.get('mobile').errors && (ContactForm.get('mobile').touched || ContactForm.get('mobile').dirty)">
                                                            <span *ngIf="ContactForm.get('mobile').errors.required">Mobile is required</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label for="projectinput1">Email</label>
                                                        <input type="text" placeholder="Enter Email" class="form-control" formControlName="email" >
                                                        <span class="form-text text-muted danger"
                                                            *ngIf="ContactForm.get('email').errors && (ContactForm.get('email').touched || ContactForm.get('email').dirty)">
                                                            <span *ngIf="ContactForm.get('email').errors.required">Email is required</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label for="projectinput1">Address</label>
                                                        <input type="text" placeholder="Enter Address" class="form-control" formControlName="address" >
                                                        <span class="form-text text-muted danger"
                                                            *ngIf="ContactForm.get('address').errors && (ContactForm.get('address').touched || ContactForm.get('address').dirty)">
                                                            <span *ngIf="ContactForm.get('address').errors.required">Address is required</span>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <!--User Detail-->
                <!-- Invoice Items Details -->
                <div id="invoice-items-details" class="pt-2">
                    <div class="row">
                        <!--<div class="col-md-4 col-sm-12 text-left">
                            <div class="table-responsive col-sm-12">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>S.NO</th>
                                            <th>Medicine</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of productdata; index as i">
                                            <th scope="row">{{i+1}}</th>
                                            <td>
                                                <a (click)="addbilling(data.id)">
                                                    <p>{{data.name}}</p>
                                                </a>
                                            </td>
                                        </tr>
                                        <span></span>
                                    </tbody>
                                </table>
                            </div>
                        </div>-->
                        <div class="col-md-12 col-sm-12 text-left">
                            <div class="table-responsive col-sm-12">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>S.NO</th>
                                            <th>Medicine</th>
                                            <th>Pieace Per Pack</th>
                                            <th>Batch No</th>
                                            <th>Pack</th>
                                            <th>Loose</th>
                                            <th>₹ Mrp</th>
                                            <th>₹ Price</th>
                                            <th>Gst %</th>
                                            <th>₹ Amount</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of Billingdata; index as i">
                                            <th scope="row">{{i+1}}</th>
                                            <td><p>{{data.name}}</p></td>
                                            <td>1 * {{data.perquantity}}</td>
                                            <td>{{data.batch_no}}</td>
                                            <td style="width:10%">
                                                <input type="text" id="quantity_{{data.ids}}"  value="{{data.quantity}}" (change)="increquantity(data.ids,data.product_id)" class="form-control" >
                                           </td>
                                            <td style="width:10%">
                                                <input type="text" id="loose_{{data.ids}}"  value="{{data.loose}}" (change)="increquantity(data.ids,data.product_id)" class="form-control" >
                                            </td>
                                            <td>{{data.mrp}}</td>
                                            <td>{{data.mrp}}</td>
                                            <td>{{data.gst}}  </td>
                                            <td>{{data.totalprice}}</td>
                                            <td>
                                                <a class="danger" data-original-title="" title="" (click)="deletebillingdata(data.ids)">
                                                    <i class="ft-trash font-medium-3"></i>Delete
                                                 </a>
                                            </td>
                                        </tr>
                                        <span></span>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-6 col-sm-12 text-left">
                            <!--<p class="lead">Payment Methods:</p>
                            <div class="row">
                                <div class="col-12">
                                    <table class="table table-borderless table-sm">
                                        <tbody>
                                            <tr>
                                                <td>Bank name:</td>
                                                <td class="text-right">OBC, Bank</td>
                                            </tr>
                                            <tr>
                                                <td>Acc name:</td>
                                                <td class="text-right">Akhil Kumar Kaliyar</td>
                                            </tr>
                                            <tr>
                                                <td>Acc No:</td>
                                                <td class="text-right">5292191012985</td>
                                            </tr>
                                            <tr>
                                                <td>IFSC code:</td>
                                                <td class="text-right">ORBC1000529</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>-->
                        </div>
                        <div class="col-md-6 col-sm-12">
                            <p class="lead">Total Amount</p>
                            <div class="table-responsive">
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td>Sub Total</td>
                                            <td class="text-right">₹ {{Tprice}}</td>
                                        </tr>
                                        <tr>
                                            <td>Discount</td>
                                            <input type="hidden" value="{{Tprice}}" id="totalprice"/>
                                            <td class="text-right"><input type="text" (change)="afterdiscount()" id="distper" ></td>
                                        </tr>
                                        <tr>
                                            <td>TAX</td>
                                            <td class="text-right">₹ {{Amount}}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-bold-800">Total Payable</td>
                                            <!--<td class="text-bold-800 text-right"> ₹ {{Amount}}</td>-->
                                            <td class="text-right">₹<input type="readonly" value="{{tdprice}}" id="payamount"/></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!--<div class="text-right">
                                <p>Authorized person</p>
                                <!--<img src="assets/img/pages/signature-scan.png" alt="signature" class="width-250">-->
                                <!--<h6>Amanda Orton</h6>
                                <p class="text-muted">Managing Director</p>
                            </div>-->
                        </div>
                        <div class="row">
                            <div class="col-md-8 col-sm-12">
                                <h6>Terms &amp; Condition</h6>
                                <p> *All disputes subject to Gurgaon jurisdiction only.</p>
                                <p> *Medicines without batch no. & Exp. will not be taken back.</p>
                            </div>
                            <div class="col-md-4 text-right">
                                <p>Authorized person</p>
                                <h6><input type="text" id="authname" value="{{dname}}" ></h6>
                                <!--<p class="text-muted">Managing Director</p>-->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Invoice Footer -->
                <div id="invoice-footer">
                    <div class="row">
                        <!--<div class="col-md-9 col-sm-12">
                            <h6>Terms &amp; Condition</h6>
                            <p>You know, being a test pilot isn't always the healthiest business in the world. We predict too
                                much for the next year and yet far too little for the next 10.</p>
                        </div>-->
                        <div class="col-md-12 col-sm-12 text-center">
                            <button type="button" class="btn btn-primary btn-raised my-1" (click)="redirecttoview()"><i class="fa fa-paper-plane-o"></i> Print Invoice</button>
                        </div>
                    </div>
                </div>
                <!--/ Invoice Footer -->
            </div>
        </div>
    </div>
</section>
<!--Invoice template ends-->